# 08-05. SD-WAN 개요

> CCNA 200-301 레벨 네트워크 엔지니어 면접 대비 시나리오

---

### 면접관: "최근 SD-WAN 도입을 검토하고 있습니다. 기존 WAN과 SD-WAN의 차이점을 설명해 주시겠습니까?"

기존 WAN과 SD-WAN의 가장 큰 차이는 **제어 방식**입니다.

#### 기존 WAN (Traditional WAN)
- 각 라우터를 **개별적으로 CLI로 설정**합니다.
- MPLS 같은 비싼 전용 회선에 의존합니다.
- 정책 변경 시 모든 장비를 하나하나 수정해야 합니다.
- 장비 중심(device-centric) 관리 방식입니다.

#### SD-WAN (Software-Defined WAN)
- **중앙 컨트롤러**에서 전체 WAN을 통합 관리합니다.
- MPLS, 인터넷, LTE 등 **다양한 회선을 동시에 활용**합니다.
- 웹 기반 GUI에서 정책을 설정하면 모든 장비에 자동 배포됩니다.
- 애플리케이션 중심(application-centric) 관리 방식입니다.

| 비교 항목 | 기존 WAN | SD-WAN |
|-----------|----------|--------|
| **관리 방식** | 장비별 CLI | 중앙 집중 GUI |
| **회선 종류** | MPLS 중심 | MPLS + 인터넷 + LTE 혼합 |
| **정책 배포** | 장비별 수동 설정 | 중앙에서 자동 배포 |
| **비용** | 높음 (MPLS 의존) | 절감 (인터넷 회선 활용) |
| **새 지사 추가** | 수주~수개월 | 수일~수주 |
| **트래픽 경로** | 정적 라우팅 | 애플리케이션별 동적 경로 |
| **가시성** | 제한적 | 애플리케이션 레벨 모니터링 |
| **암호화** | 별도 구성 필요 | 기본 내장 (IPSec) |

---

### 면접관: "Cisco SD-WAN(Viptela) 아키텍처의 주요 구성 요소를 설명해 주세요."

Cisco SD-WAN(구 Viptela)은 네 가지 핵심 구성 요소로 이루어져 있습니다.

#### 1. vManage (관리 평면)
- **중앙 관리 플랫폼**으로, 웹 기반 GUI를 제공합니다.
- 장비 설정, 템플릿 배포, 모니터링, 트러블슈팅을 담당합니다.
- 모든 SD-WAN 장비의 상태를 실시간으로 확인할 수 있습니다.
- 네트워크 관리자가 가장 많이 사용하는 인터페이스입니다.

#### 2. vBond (오케스트레이션 평면)
- SD-WAN 장비의 **초기 인증과 등록**을 담당합니다.
- 새로운 장비가 네트워크에 추가되면 vBond가 첫 번째 접점 역할을 합니다.
- vSmart 컨트롤러와 vManage의 위치 정보를 새 장비에 전달합니다.
- NAT 환경에서의 연결도 처리합니다.

#### 3. vSmart (제어 평면)
- **라우팅 정책과 제어 평면 기능**을 담당합니다.
- OMP(Overlay Management Protocol)를 사용하여 라우팅 정보를 배포합니다.
- 데이터 정책, 앱 인식 라우팅 정책 등을 Edge 장비에 전달합니다.
- 기존 네트워크의 라우트 리플렉터와 유사한 역할입니다.

#### 4. vEdge / cEdge (데이터 평면)
- **각 사이트에 설치되는 Edge 라우터**입니다.
- 실제 트래픽 전달을 담당합니다.
- vEdge: Viptela OS 기반 장비
- cEdge: Cisco IOS-XE 기반 장비 (ISR, ASR, CSR 등)
- IPSec 터널로 사이트 간 오버레이 네트워크를 구성합니다.

```
                    [vManage]
                        |
                    [vBond]
                        |
                   [vSmart]
                   /       \
            [vEdge]         [cEdge]
            본사              지사
        (MPLS + Internet)  (Internet + LTE)
```

---

### 면접관: "오버레이 네트워크(Overlay Network)라는 개념을 좀 더 설명해 주세요. SD-WAN에서 어떻게 활용됩니까?"

오버레이 네트워크는 **물리적 네트워크(Underlay) 위에 구축되는 가상의 논리적 네트워크**입니다.

#### Underlay vs Overlay

- **Underlay**: 실제 물리적 전송 경로입니다. MPLS 회선, 인터넷 회선, LTE 등이 해당합니다.
- **Overlay**: Underlay 위에 IPSec 터널을 구성하여 만드는 가상 네트워크입니다.

SD-WAN에서 오버레이 네트워크의 동작 방식은 다음과 같습니다.

1. 각 사이트의 Edge 장비가 **모든 WAN 회선(MPLS, 인터넷, LTE)**에 연결됩니다.
2. Edge 장비 간에 **IPSec 터널**을 자동으로 구성하여 Full-Mesh 오버레이를 만듭니다.
3. 상위 Underlay가 MPLS이든 인터넷이든 상관없이, 오버레이에서는 **동일한 논리적 토폴로지**를 유지합니다.

```
      본사 vEdge ----[MPLS]---- 지사A vEdge
          |                         |
          +------[Internet]---------+
          |                         |
          +--------[LTE]-----------+

      오버레이에서는 모든 경로가 하나의 논리적 네트워크
```

이 구조의 핵심 장점은 **전송 독립성(Transport Independence)**입니다. Underlay 회선이 바뀌어도 오버레이 구성은 그대로 유지됩니다. 예를 들어, 지사의 MPLS 회선을 인터넷 회선으로 교체해도 오버레이 네트워크에는 영향이 없습니다.

---

### 면접관: "SD-WAN의 애플리케이션 인식 라우팅(Application-Aware Routing)이 무엇인지 설명해 주세요."

애플리케이션 인식 라우팅은 SD-WAN의 가장 강력한 기능 중 하나입니다. **애플리케이션의 종류와 네트워크 상태를 실시간으로 파악하여 최적의 경로로 트래픽을 전송**합니다.

#### 동작 원리

1. **애플리케이션 식별**: DPI(Deep Packet Inspection)를 통해 트래픽이 어떤 애플리케이션인지 식별합니다. (예: Microsoft 365, Zoom, YouTube, SAP 등)

2. **경로 품질 측정**: BFD(Bidirectional Forwarding Detection) 프로브를 사용하여 각 WAN 경로의 지연, 지터, 패킷 손실을 실시간으로 측정합니다.

3. **SLA 기반 경로 선택**: 애플리케이션별 SLA 정책에 따라 최적 경로를 선택합니다.

#### 예시 시나리오

| 애플리케이션 | SLA 요구사항 | 최적 경로 |
|-------------|-------------|-----------|
| **Zoom 화상회의** | 지연 < 150ms, 손실 < 1% | MPLS (안정적) |
| **Microsoft 365** | 지연 < 200ms | 인터넷 (직접 접속) |
| **SAP ERP** | 손실 < 0.1% | MPLS (신뢰성) |
| **YouTube** | Best Effort | 인터넷 (비용 절감) |
| **파일 백업** | 대역폭 우선 | LTE (잔여 대역폭) |

```
[Zoom] ----> vEdge ----> MPLS 경로 ----> 본사
                   (지연 50ms, 손실 0%)

[YouTube] -> vEdge ----> 인터넷 경로 ---> CDN
                   (지연 80ms, 손실 0.5%)
```

만약 MPLS 경로의 품질이 저하되면(예: 지연 200ms 초과), SD-WAN은 자동으로 Zoom 트래픽을 인터넷 경로로 전환합니다. 이 모든 전환이 **실시간으로 자동**으로 이루어집니다.

---

### 면접관: "SD-WAN에서 중앙 집중 정책(Centralized Policy)은 어떻게 동작합니까? 구체적인 예를 들어 설명해 주세요."

SD-WAN의 중앙 집중 정책은 vManage에서 설정하고 vSmart를 통해 Edge 장비에 배포됩니다.

정책은 크게 두 가지 유형이 있습니다.

#### 1. Control Policy (제어 정책)
- **라우팅 경로를 제어**합니다.
- vSmart에서 OMP 경로를 필터링하거나 조작합니다.
- 예: 특정 지사의 트래픽이 반드시 본사를 경유하도록 설정

#### 2. Data Policy (데이터 정책)
- **실제 트래픽 흐름을 제어**합니다.
- 애플리케이션 인식 라우팅, 트래픽 엔지니어링 등에 사용됩니다.
- 예: SaaS 트래픽을 인터넷으로 직접 전송(Direct Internet Access)

#### 정책 배포 흐름

```
[관리자] --설정--> [vManage] --정책--> [vSmart] --OMP--> [vEdge/cEdge]
```

#### 실제 정책 예시: Microsoft 365 직접 인터넷 접속

기존 WAN에서는 지사의 클라우드 트래픽도 본사를 경유해야 했습니다(백홀). SD-WAN에서는 다음과 같이 정책을 설정하여 직접 인터넷으로 나갈 수 있습니다.

```
정책 이름: DIA-M365
조건: 애플리케이션 = Microsoft 365
동작: 인터넷 회선으로 직접 전송 (Local Internet Breakout)
적용 대상: 모든 지사 vEdge
```

이 정책을 vManage에서 한 번 설정하면, **100개 지사에 동시에 자동 적용**됩니다. 기존 WAN이라면 100대의 라우터를 하나하나 설정해야 할 작업입니다.

---

### 면접관: "SD-WAN 도입의 실질적인 이점을 비용, 운영, 보안 측면에서 정리해 주세요."

SD-WAN 도입 이점을 세 가지 측면으로 정리하겠습니다.

#### 1. 비용 절감

| 항목 | 기존 WAN | SD-WAN |
|------|----------|--------|
| **WAN 회선비** | MPLS 100% | MPLS 축소 + 인터넷 활용 |
| **예상 절감** | 기준 | 30~60% WAN 비용 절감 |
| **새 지사 구축** | 전용선 개통 대기 | 인터넷만 있으면 즉시 구축 |

MPLS 대비 인터넷 회선은 동일 대역폭 기준 1/5 ~ 1/10 수준의 비용입니다. SD-WAN은 저렴한 인터넷 회선을 활용하면서도 QoS와 보안을 제공합니다.

#### 2. 운영 효율성

- **ZTP (Zero Touch Provisioning)**: 새 장비를 연결만 하면 자동으로 설정이 다운로드됩니다. 현장에 전문 엔지니어가 필요 없습니다.
- **템플릿 기반 설정**: 공통 설정을 템플릿으로 만들어 수백 대 장비에 일괄 적용합니다.
- **실시간 모니터링**: vManage 대시보드에서 전체 네트워크 상태를 한눈에 파악합니다.
- **빠른 장애 대응**: 경로 품질 저하 시 밀리초 단위로 자동 경로 전환이 이루어집니다.

#### 3. 보안 강화

- **기본 IPSec 암호화**: 모든 사이트 간 통신이 자동으로 AES-256 암호화됩니다.
- **세분화(Segmentation)**: VPN 단위로 트래픽을 격리하여 보안 영역을 분리합니다.
- **통합 보안 기능**: 방화벽, IPS, URL 필터링, 악성코드 탐지 등을 Edge 장비에서 제공합니다.
- **중앙 보안 정책**: 모든 사이트에 일관된 보안 정책을 적용합니다.

---

### 면접관: "SD-WAN 도입 시 주의할 점이나 한계가 있다면 무엇입니까?"

SD-WAN이 만능은 아닙니다. 도입 시 고려해야 할 사항들이 있습니다.

**1. 인터넷 회선 품질 의존성**
- SD-WAN이 인터넷 회선을 활용한다고 해서 인터넷 품질 자체를 개선하는 것은 아닙니다.
- 모든 인터넷 회선의 품질이 나쁘면 SD-WAN도 좋은 성능을 낼 수 없습니다.
- 중요한 거점에는 최소 하나의 고품질 회선(MPLS 또는 전용선)을 유지하는 것이 좋습니다.

**2. 초기 도입 비용**
- SD-WAN 라이선스, 컨트롤러 장비, 교육 비용 등 초기 투자가 필요합니다.
- ROI(투자 수익률)는 보통 12~18개월 후에 실현됩니다.

**3. 기술 인력 전환**
- CLI 기반에서 GUI/정책 기반 관리로 전환되므로 기존 엔지니어의 재교육이 필요합니다.
- 장애 시 트러블슈팅 방법이 기존과 다릅니다.

**4. 벤더 종속성**
- SD-WAN 솔루션은 벤더별 호환성이 없습니다.
- Cisco SD-WAN을 도입하면 다른 벤더로의 전환이 어렵습니다.
- 주요 벤더: Cisco(Viptela), VMware(VeloCloud), Fortinet, Palo Alto(Prisma SD-WAN)

**5. 실시간 트래픽 한계**
- 인터넷 회선만으로 운영하는 경우, 극도로 지연에 민감한 트래픽(금융 거래 등)은 여전히 전용선이나 MPLS가 필요할 수 있습니다.

| 고려 사항 | 대응 방안 |
|-----------|-----------|
| 인터넷 품질 불안정 | 하이브리드 구성 (MPLS + 인터넷) |
| 초기 비용 | 단계적 도입, 파일럿 테스트 |
| 기술 인력 | 벤더 교육, 인증 취득 |
| 벤더 종속 | 도입 전 충분한 PoC(Proof of Concept) |
| 실시간 트래픽 | 핵심 거점에 MPLS 유지 |

결론적으로 SD-WAN은 **기존 WAN을 완전히 대체하는 것이 아니라, 기존 인프라와 혼합하여 최적의 네트워크를 구성하는 기술**로 접근하는 것이 바람직합니다.

---

### 면접관: "마지막으로, Cisco SD-WAN 관련 CCNA 시험에서 알아야 할 핵심 포인트를 정리해 주세요."

CCNA 200-301 시험에서 SD-WAN 관련 핵심 포인트를 정리하겠습니다.

#### 시험 출제 범위 핵심 키워드

1. **컨트롤러 기반 아키텍처**: SD-WAN은 컨트롤러가 제어 평면을 담당하고, Edge 장비가 데이터 평면을 담당하는 분리 구조입니다.

2. **4대 구성 요소 역할**:
   - vManage = 관리 (설정, 모니터링)
   - vBond = 오케스트레이션 (인증, 온보딩)
   - vSmart = 제어 (라우팅 정책)
   - vEdge/cEdge = 데이터 (트래픽 전달)

3. **OMP (Overlay Management Protocol)**: SD-WAN의 제어 평면 프로토콜로, BGP와 유사하게 경로 정보를 교환합니다.

4. **오버레이/언더레이 개념**: 물리적 전송 네트워크(언더레이) 위에 논리적 터널 네트워크(오버레이)를 구축합니다.

5. **전통 WAN vs SD-WAN 비교**: 관리 방식, 비용, 확장성, 보안 측면에서의 차이점을 이해해야 합니다.

6. **ZTP (Zero Touch Provisioning)**: 장비를 현장에서 연결만 하면 자동으로 설정이 완료되는 기능입니다.

```
CCNA SD-WAN 핵심 정리:

1. SD-WAN = 소프트웨어 정의 + WAN
2. 중앙 집중 관리 (vManage GUI)
3. 다양한 WAN 회선 활용 (Transport Independence)
4. 애플리케이션 인식 라우팅
5. 자동화 (ZTP, 템플릿)
6. 기본 보안 내장 (IPSec)
```

CCNA 레벨에서는 각 구성 요소의 **역할**과 기존 WAN 대비 **장점**을 명확히 이해하는 것이 가장 중요합니다. 상세한 설정이나 운영은 CCNP SDWAN 과정에서 다룹니다.
